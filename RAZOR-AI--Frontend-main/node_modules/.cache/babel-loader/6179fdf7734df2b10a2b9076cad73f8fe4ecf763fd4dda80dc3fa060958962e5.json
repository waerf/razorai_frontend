{"ast":null,"code":"// utils/storage.js\nconst Storage = {\n  set(key, value, ttl = 3600000) {\n    // 默认过期时间为 1 小时\n    const data = {\n      value,\n      expiry: ttl ? Date.now() + ttl : null // 计算过期时间\n    };\n    localStorage.setItem(key, JSON.stringify(data));\n  },\n  get(key) {\n    const dataStr = localStorage.getItem(key);\n    if (!dataStr) return null;\n    try {\n      const data = JSON.parse(dataStr); // 尝试解析为 JSON\n      if (data.expiry && Date.now() > data.expiry) {\n        localStorage.removeItem(key); // 清除过期数据\n        return null;\n      }\n      return data.value;\n    } catch (error) {\n      // 如果解析失败，直接返回原始字符串\n      console.warn(`Warning: Value for key \"${key}\" is not JSON. Returning raw value.`);\n      return dataStr;\n    }\n  },\n  remove(key) {\n    localStorage.removeItem(key);\n  },\n  clear() {\n    localStorage.clear();\n  }\n};\nexport default Storage;","map":{"version":3,"names":["Storage","set","key","value","ttl","data","expiry","Date","now","localStorage","setItem","JSON","stringify","get","dataStr","getItem","parse","removeItem","error","console","warn","remove","clear"],"sources":["D:/aa/databaseRobot/RAZOR-AI--Frontend-main/src/utils/storage.js"],"sourcesContent":["// utils/storage.js\nconst Storage = {\n  set(key, value, ttl = 3600000) {\n    // 默认过期时间为 1 小时\n    const data = {\n      value,\n      expiry: ttl ? Date.now() + ttl : null, // 计算过期时间\n    };\n    localStorage.setItem(key, JSON.stringify(data));\n  },\n  get(key) {\n    const dataStr = localStorage.getItem(key);\n    if (!dataStr) return null;\n    try {\n      const data = JSON.parse(dataStr); // 尝试解析为 JSON\n      if (data.expiry && Date.now() > data.expiry) {\n        localStorage.removeItem(key); // 清除过期数据\n        return null;\n      }\n      return data.value;\n    } catch (error) {\n      // 如果解析失败，直接返回原始字符串\n      console.warn(\n        `Warning: Value for key \"${key}\" is not JSON. Returning raw value.`\n      );\n      return dataStr;\n    }\n  },\n  remove(key) {\n    localStorage.removeItem(key);\n  },\n  clear() {\n    localStorage.clear();\n  },\n};\n\nexport default Storage;\n"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG;EACdC,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,GAAG,OAAO,EAAE;IAC7B;IACA,MAAMC,IAAI,GAAG;MACXF,KAAK;MACLG,MAAM,EAAEF,GAAG,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGJ,GAAG,GAAG,IAAI,CAAE;IACzC,CAAC;IACDK,YAAY,CAACC,OAAO,CAACR,GAAG,EAAES,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CAAC;EACjD,CAAC;EACDQ,GAAGA,CAACX,GAAG,EAAE;IACP,MAAMY,OAAO,GAAGL,YAAY,CAACM,OAAO,CAACb,GAAG,CAAC;IACzC,IAAI,CAACY,OAAO,EAAE,OAAO,IAAI;IACzB,IAAI;MACF,MAAMT,IAAI,GAAGM,IAAI,CAACK,KAAK,CAACF,OAAO,CAAC,CAAC,CAAC;MAClC,IAAIT,IAAI,CAACC,MAAM,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGH,IAAI,CAACC,MAAM,EAAE;QAC3CG,YAAY,CAACQ,UAAU,CAACf,GAAG,CAAC,CAAC,CAAC;QAC9B,OAAO,IAAI;MACb;MACA,OAAOG,IAAI,CAACF,KAAK;IACnB,CAAC,CAAC,OAAOe,KAAK,EAAE;MACd;MACAC,OAAO,CAACC,IAAI,CACV,2BAA2BlB,GAAG,qCAChC,CAAC;MACD,OAAOY,OAAO;IAChB;EACF,CAAC;EACDO,MAAMA,CAACnB,GAAG,EAAE;IACVO,YAAY,CAACQ,UAAU,CAACf,GAAG,CAAC;EAC9B,CAAC;EACDoB,KAAKA,CAAA,EAAG;IACNb,YAAY,CAACa,KAAK,CAAC,CAAC;EACtB;AACF,CAAC;AAED,eAAetB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}